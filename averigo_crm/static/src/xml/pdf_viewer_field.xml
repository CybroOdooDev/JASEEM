<templates id="template" xml:space="preserve">
    <t t-name="Many2ManyImageField">
        <div class="attachment-field">
            <label t-att-for="props.name" t-esc="props.record.fields[props.name].string">Upload Files</label>
            <FileInput
                t-att-accept="props.acceptedFileExtensions"
                t-att-class="props.className"
                t-att-max-files="props.numberOfFiles"
                t-on-file-uploaded="onFileUploaded"
                t-on-file-remove="onFileRemove"
            />
            <t t-foreach="files" t-as="file" t-key="file.id">
                <div class="attachment">
                    <a t-att-href="getUrl(file.id)" t-esc="file.name">View</a>
                    <span t-esc="getExtension(file)"/>
                    <button t-on-click="() => onFileRemove(file.id)">Delete</button>
                </div>
            </t>
        </div>
    </t>
</templates>